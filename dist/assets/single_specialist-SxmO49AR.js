import{S as w}from"./specialist.service-4FYzFTOF.js";import{S as I}from"./Form-DwKSYB8M.js";import{_ as k,a as F,b as T,c as B,d as L,e as x,f as N,g as V,h as H}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-B-V1Dyh_.js";import{_ as j,c as r,o as d,e as s,g as m,b as a,t as q,r as o,j as p,q as l,a8 as _,w as i,F as z}from"./index-DlouWDH6.js";import"./DialogPortal-eiBcyfpc.js";import"./utils-qwHvG82s.js";import"./upload.service-BAH21bUl.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-B1GvedFt.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DZo0TLeB.js";import"./index-BBhC-Yv9.js";const E={components:{AlertDialog:H,AlertDialogAction:V,AlertDialogCancel:N,AlertDialogContent:x,AlertDialogDescription:L,AlertDialogFooter:B,AlertDialogHeader:T,AlertDialogTitle:F,AlertDialogTrigger:k,SpecialistForm:I},data:()=>({specialistService:new w,loading:!0,item:null,saveLoading:!1}),async created(){await this.getItem()},methods:{async getItem(){this.item=await this.specialistService.getById(this.$route.params.id),this.loading=!1},async onSave(){const e=await this.$refs.form.getData();if(e){this.saveLoading=!0;const{payload:t,id:c}=e;await this.specialistService.updateById(c,t),await this.getItem(),this.saveLoading=!1}},async onDelete(){await this.specialistService.deleteById(this.item.id),this.$router.push("/admin/dashboard/specialists")}}},P={class:"flex gap-2"},G={class:"flex flex-col mb-10"},J={key:0,class:"text-sm opacity-65"},K=["disabled"],M={class:"loading loading-spinner text-primary"},O={class:"loading loading-spinner text-primary"},Q={key:0,class:"flex justify-center"},R={key:1,class:"grid grid-cols-2 gap-4"};function U(e,t,c,W,X,n){const u=o("Icon"),f=o("AlertDialogTrigger"),D=o("AlertDialogTitle"),A=o("AlertDialogDescription"),v=o("AlertDialogHeader"),y=o("AlertDialogCancel"),b=o("AlertDialogAction"),S=o("AlertDialogFooter"),h=o("AlertDialogContent"),$=o("AlertDialog"),C=o("SpecialistForm");return d(),r(z,null,[s("div",P,[s("div",G,[t[2]||(t[2]=s("h1",{class:"text-2xl font-semibold"},"Специалисты",-1)),e.item?(d(),r("span",J," ID: "+q(e.item.id),1)):m("",!0)]),s("button",{type:"button",class:"btn btn-square ml-auto",onClick:t[0]||(t[0]=g=>e.$router.push("/admin/dashboard/specialists/add"))},[a(u,{name:"Plus",size:14})]),s("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...g)=>n.onSave&&n.onSave(...g)),disabled:e.saveLoading},[p(s("span",M,null,512),[[_,e.saveLoading]]),t[3]||(t[3]=l(" Сохранить "))],8,K),a($,null,{default:i(()=>[a(f,{class:"btn btn-error"},{default:i(()=>[p(s("span",O,null,512),[[_,e.saveLoading]]),t[4]||(t[4]=l(" Удалить "))]),_:1,__:[4]}),a(h,null,{default:i(()=>[a(v,null,{default:i(()=>[a(D,null,{default:i(()=>t[5]||(t[5]=[l("Вы точно хотите удалить?")])),_:1,__:[5]}),a(A,null,{default:i(()=>t[6]||(t[6]=[l(" Запись будет удален безвозвратно ")])),_:1,__:[6]})]),_:1}),a(S,null,{default:i(()=>[a(y,{class:"hover:bg-gray-100"},{default:i(()=>t[7]||(t[7]=[l("Отмена")])),_:1,__:[7]}),a(b,{onClick:n.onDelete,class:"text-white"},{default:i(()=>t[8]||(t[8]=[l("Продолжить")])),_:1,__:[8]},8,["onClick"])]),_:1})]),_:1})]),_:1})]),e.loading&&e.item===null?(d(),r("div",Q,t[9]||(t[9]=[s("span",{class:"loading loading-spinner text-primary"},null,-1)]))):m("",!0),!e.loading&&e.item!==null?(d(),r("div",R,[a(C,{data:e.item,onSave:n.onSave,ref:"form"},null,8,["data","onSave"])])):m("",!0)],64)}const rt=j(E,[["render",U],["__scopeId","data-v-806bca11"]]);export{rt as default};
