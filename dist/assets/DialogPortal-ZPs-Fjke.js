import{i as N,l as $,Q as S,C as I,c as k,u as L,P as U,R as z,D as G}from"./utils-DopF4P6a.js";import{x as g,y as w,af as K,a as C,al as Y,ae as Q,aQ as F,z as W,aR as q,A as H,f as O,o as j,w as R,b as J,E,D as P,M as X,O as Z}from"./index-Do8ladI-.js";const de=e=>{const t=o=>{switch(o){case"adult":return"взрослые";case"child":return"дети";case"couple":return"пары";case"supervision":return"супервизия"}};return e.map(o=>t(o)).join(", ")},pe=e=>{const t={female:"Женщина",male:"Мужчина"},o=Object.entries(t).map(n=>({value:n[0],name:n[1]}));let r=null;return e&&(r=o.find(n=>n.value===e)),{obj:t,list:o,getGenderByValue:r}},me=e=>{const t={psychologist:"Психолог",psychotherapist:"Психотерапевт",coach:"Коуч"},o=Object.entries(t).map(n=>({value:n[0],name:n[1]}));let r=null;return Array.isArray(e)||(r=o.find(n=>n.value===e)),Array.isArray(e)&&(r=o.filter(n=>e.includes(n.value))),{obj:t,list:o,getProfessionByValue:r}},ve=e=>{const t={adult:"Для себя",child:"Для ребенка",couple:"Для пары",supervision:"Супервизор"},o=Object.entries(t).map(n=>({value:n[0],name:n[1]}));let r=null;return Array.isArray(e)||(r=o.find(n=>n.value===e)),Array.isArray(e)&&(r=o.filter(n=>e.includes(n.value))),{obj:t,list:o,getRouteByValue:r}},he=e=>{const t={islam:"Ислам",christianity:"Христианство",buddhism:"Буддизм",judaism:"Иудаизм"},o=Object.entries(t).map(n=>({value:n[0],name:n[1]}));let r=null;return e&&(r=o.find(n=>n.value===e)),{obj:t,list:o,getReligionByValue:r}},ye=e=>{const t={yes:"Да",no:"Нет"},o=Object.entries(t).map(n=>({value:n[0],name:n[1]}));let r=null;return e&&(r=o.find(n=>n.value===e)),{obj:t,list:o,getEthnicByValue:r}};function ee(e){const t=N({dir:g("ltr")});return w(()=>{var o;return(e==null?void 0:e.value)||((o=t.dir)==null?void 0:o.value)||"ltr"})}function _(){const e=g(),t=w(()=>{var o,r;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(r=e.value)==null?void 0:r.$el.nextElementSibling:$(e)});return{primitiveElement:e,currentElement:t}}const M="data-reka-collection-item";function te(e={}){const{key:t="",isProvider:o=!1}=e,r=`${t}CollectionProvider`;let n;if(o){const l=g(new Map);n={collectionRef:g(),itemMap:l},q(r,n)}else n=K(r);const v=(l=!1)=>{const s=n.collectionRef.value;if(!s)return[];const a=Array.from(s.querySelectorAll(`[${M}]`)),f=Array.from(n.itemMap.value.values()).sort((h,b)=>a.indexOf(h.ref)-a.indexOf(b.ref));return l?f:f.filter(h=>h.ref.dataset.disabled!=="")},d=C({name:"CollectionSlot",setup(l,{slots:s}){const{primitiveElement:a,currentElement:c}=_();return W(c,()=>{n.collectionRef.value=c.value}),()=>F(S,{ref:a},s)}}),m=C({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:s,attrs:a}){const{primitiveElement:c,currentElement:f}=_();return Y(h=>{if(f.value){const b=Q(f.value);n.itemMap.value.set(b,{ref:f.value,value:l.value}),h(()=>n.itemMap.value.delete(b))}}),()=>F(S,{...a,[M]:"",ref:c},s)}}),u=w(()=>Array.from(n.itemMap.value.values())),i=w(()=>n.itemMap.value.size);return{getItems:v,reactiveItems:u,itemMapSize:i,CollectionSlot:d,CollectionItem:m}}const ne="rovingFocusGroup.onEntryFocus",oe={bubbles:!1,cancelable:!0},re={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ge(e,t,o){const r=ae(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return re[r]}function se(e,t=!1){const o=I();for(const r of e)if(r===o||(r.focus({preventScroll:t}),I()!==o))return}function be(e,t){return e.map((o,r)=>e[(t+r)%e.length])}const[Ae,ie]=k("RovingFocusGroup"),xe=C({__name:"RovingFocusGroup",props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},preventScrollOnEntryFocus:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:o}){const r=e,n=o,{loop:v,orientation:d,dir:m}=H(r),u=ee(m),i=L(r,"currentTabStopId",n,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),l=g(!1),s=g(!1),a=g(0),{getItems:c,CollectionSlot:f}=te({isProvider:!0});function h(p){const A=!s.value;if(p.currentTarget&&p.target===p.currentTarget&&A&&!l.value){const x=new CustomEvent(ne,oe);if(p.currentTarget.dispatchEvent(x),n("entryFocus",x),!x.defaultPrevented){const T=c().map(y=>y.ref).filter(y=>y.dataset.disabled!==""),V=T.find(y=>y.getAttribute("data-active")===""),B=T.find(y=>y.id===i.value),D=[V,B,...T].filter(Boolean);se(D,r.preventScrollOnEntryFocus)}}s.value=!1}function b(){setTimeout(()=>{s.value=!1},1)}return t({getItems:c}),ie({loop:v,dir:u,orientation:d,currentTabStopId:i,onItemFocus:p=>{i.value=p},onItemShiftTab:()=>{l.value=!0},onFocusableItemAdd:()=>{a.value++},onFocusableItemRemove:()=>{a.value--}}),(p,A)=>(j(),O(E(f),null,{default:R(()=>[J(E(U),{tabindex:l.value||a.value===0?-1:0,"data-orientation":E(d),as:p.as,"as-child":p.asChild,dir:E(u),style:{outline:"none"},onMousedown:A[0]||(A[0]=x=>s.value=!0),onMouseup:b,onFocus:h,onBlur:A[1]||(A[1]=x=>l.value=!1)},{default:R(()=>[P(p.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}});function Ee(e){const t=z("",1e3);return{search:t,handleTypeaheadSearch:(n,v)=>{t.value=t.value+n;{const d=I(),m=v.map(a=>{var c,f;return{...a,textValue:((c=a.value)==null?void 0:c.textValue)??((f=a.ref.textContent)==null?void 0:f.trim())??""}}),u=m.find(a=>a.ref===d),i=m.map(a=>a.textValue),l=ue(i,t.value,u==null?void 0:u.textValue),s=m.find(a=>a.textValue===l);return s&&s.ref.focus(),s==null?void 0:s.ref}},resetTypeahead:()=>{t.value=""}}}function le(e,t){return e.map((o,r)=>e[(t+r)%e.length])}function ue(e,t,o){const n=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,v=o?e.indexOf(o):-1;let d=le(e,Math.max(v,0));n.length===1&&(d=d.filter(i=>i!==o));const u=d.find(i=>i.toLowerCase().startsWith(n.toLowerCase()));return u!==o?u:void 0}const we=C({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=e;return(o,r)=>(j(),O(E(G),X(Z(t)),{default:R(()=>[P(o.$slots,"default")]),_:3},16))}});export{we as _,ee as a,he as b,pe as c,te as d,ye as e,Ee as f,de as g,ge as h,Ae as i,se as j,xe as k,me as p,ve as r,_ as u,be as w};
