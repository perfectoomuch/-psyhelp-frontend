import{d as R,c as M,_ as z,j as D,h as K,k as L,l as C,m as T,n as U,o as W,p as x,q as V,e as _,s as j,t as F,v as q,P as $,w as G,r as N,f as H}from"./utils-1WIqXIgU.js";import{a as y,y as J,q as P,g as f,o as g,w as u,A as m,B as e,J as A,K as E,b,D as O,G as k,z as Q,a3 as X}from"./index-CQO-ZVad.js";const[h,Y]=R("PopoverRoot"),Z=y({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(n,{emit:i}){const o=n,t=i,{modal:r}=J(o),s=M(o,"open",t,{defaultValue:o.defaultOpen,passive:o.open===void 0}),l=P(),c=P(!1);return Y({contentId:"",triggerId:"",modal:r,open:s,onOpenChange:a=>{s.value=a},onOpenToggle:()=>{s.value=!s.value},triggerElement:l,hasCustomAnchor:c}),(a,d)=>(g(),f(e(z),null,{default:u(()=>[m(a.$slots,"default",{open:e(s)})]),_:3}))}}),ee=y({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const i=n;return(o,t)=>(g(),f(e(D),A(E(i)),{default:u(()=>[m(o.$slots,"default")]),_:3},16))}}),S=y({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:i}){const o=n,t=i,r=K(L(o,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=C(),l=h();return T(),(c,a)=>(g(),f(e(x),{"as-child":"",loop:"",trapped:c.trapFocus,onMountAutoFocus:a[5]||(a[5]=d=>t("openAutoFocus",d)),onUnmountAutoFocus:a[6]||(a[6]=d=>t("closeAutoFocus",d))},{default:u(()=>[b(e(U),{"as-child":"","disable-outside-pointer-events":c.disableOutsidePointerEvents,onPointerDownOutside:a[0]||(a[0]=d=>t("pointerDownOutside",d)),onInteractOutside:a[1]||(a[1]=d=>t("interactOutside",d)),onEscapeKeyDown:a[2]||(a[2]=d=>t("escapeKeyDown",d)),onFocusOutside:a[3]||(a[3]=d=>t("focusOutside",d)),onDismiss:a[4]||(a[4]=d=>e(l).onOpenChange(!1))},{default:u(()=>[b(e(W),O(e(r),{id:e(l).contentId,ref:e(s),"data-state":e(l).open.value?"open":"closed","aria-labelledby":e(l).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:u(()=>[m(c.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),oe=y({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:i}){const o=n,t=i,r=h(),s=P(!1);V(!0);const l=_(o,t),{forwardRef:c,currentElement:a}=C();return j(a),(d,p)=>(g(),f(S,O(e(l),{ref:e(c),"trap-focus":e(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:p[0]||(p[0]=k(v=>{var B;t("closeAutoFocus",v),s.value||(B=e(r).triggerElement.value)==null||B.focus()},["prevent"])),onPointerDownOutside:p[1]||(p[1]=v=>{t("pointerDownOutside",v);const B=v.detail.originalEvent,w=B.button===0&&B.ctrlKey===!0,I=B.button===2||w;s.value=I}),onFocusOutside:p[2]||(p[2]=k(()=>{},["prevent"]))}),{default:u(()=>[m(d.$slots,"default")]),_:3},16,["trap-focus"]))}}),te=y({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:i}){const o=n,t=i,r=h(),s=P(!1),l=P(!1),c=_(o,t);return(a,d)=>(g(),f(S,O(e(c),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=p=>{var v;t("closeAutoFocus",p),p.defaultPrevented||(s.value||(v=e(r).triggerElement.value)==null||v.focus(),p.preventDefault()),s.value=!1,l.value=!1}),onInteractOutside:d[1]||(d[1]=async p=>{var w;t("interactOutside",p),p.defaultPrevented||(s.value=!0,p.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const v=p.target;((w=e(r).triggerElement.value)==null?void 0:w.contains(v))&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&l.value&&p.preventDefault()})}),{default:u(()=>[m(a.$slots,"default")]),_:3},16))}}),se=y({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:i}){const o=n,t=i,r=h(),s=_(o,t),{forwardRef:l}=C();return r.contentId||(r.contentId=F(void 0,"reka-popover-content")),(c,a)=>(g(),f(e(q),{present:c.forceMount||e(r).open.value},{default:u(()=>[e(r).modal.value?(g(),f(oe,O({key:0},e(s),{ref:e(l)}),{default:u(()=>[m(c.$slots,"default")]),_:3},16)):(g(),f(te,O({key:1},e(s),{ref:e(l)}),{default:u(()=>[m(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ae=y({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const i=n,o=h(),{forwardRef:t,currentElement:r}=C();return o.triggerId||(o.triggerId=F(void 0,"reka-popover-trigger")),Q(()=>{o.triggerElement.value=r.value}),(s,l)=>(g(),f(X(e(o).hasCustomAnchor.value?e($):e(G)),{"as-child":""},{default:u(()=>[b(e($),{id:e(o).triggerId,ref:e(t),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(o).open.value,"aria-controls":e(o).contentId,"data-state":e(o).open.value?"open":"closed",as:s.as,"as-child":i.asChild,onClick:e(o).onOpenToggle},{default:u(()=>[m(s.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),re=y({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const i=n;return(o,t)=>(g(),f(e(D),A(E(i)),{default:u(()=>[m(o.$slots,"default")]),_:3},16))}}),le=y({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:i}){const r=_(n,i);return(s,l)=>(g(),f(e(Z),O({"data-slot":"popover"},e(r)),{default:u(()=>[m(s.$slots,"default")]),_:3},16))}}),de=y({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:i}){const o=n,t=i,r=N(o,"class"),s=_(r,t);return(l,c)=>(g(),f(e(ee),null,{default:u(()=>[b(e(se),O({"data-slot":"popover-content"},{...e(s),...l.$attrs},{class:e(H)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",o.class)}),{default:u(()=>[m(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),pe=y({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const i=n;return(o,t)=>(g(),f(e(ae),O({"data-slot":"popover-trigger"},i),{default:u(()=>[m(o.$slots,"default")]),_:3},16))}});export{re as _,pe as a,de as b,le as c};
