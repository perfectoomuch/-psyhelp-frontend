import{S as f}from"./specialist.service-D9mY9H-k.js";import{_ as b,c as i,o as n,f as s,e as o,G as g,b as d,r as c,k as y,O as v,F as p,i as x,t as l}from"./index-DzxkEMkm.js";const S={data:()=>({specialistService:new f,loading:!0,specialists:[],search:{text:"",used:!1,result:[]}}),async created(){await this.getAll()},computed:{specialistsMap(){return this.search.used?this.search.result:this.specialists}},methods:{async getAll(){this.specialists=await this.specialistService.getAll(),this.loading=!1},async onSearch(){if(this.search.text.trim().length===0){this.search.result=[],this.search.used=!1;return}this.search.result=await this.specialistService.getBySearch(this.search.text),this.search.used=!0}}},w={class:"flex"},k={class:"input border"},_={key:0,class:"flex justify-center"},M={key:1,role:"alert",class:"alert"},C={key:2,class:"overflow-x-auto"},$={class:"table table-sm"},B={class:"whitespace-nowrap text-primary cursor-pointer"},I=["onClick"];function V(a,e,z,A,N,r){const u=c("Icon"),m=c("Info");return n(),i(p,null,[s("div",w,[e[4]||(e[4]=s("div",{class:"flex items-center gap-2 mb-10"},[s("h1",{class:"text-2xl font-semibold"},"Специалисты")],-1)),s("form",{onSubmit:e[2]||(e[2]=g((...t)=>r.onSearch&&r.onSearch(...t),["prevent"])),class:"flex gap-2 ml-auto"},[s("button",{type:"button",class:"btn btn-square mr-2",onClick:e[0]||(e[0]=t=>a.$router.push("/admin/dashboard/specialists/add"))},[d(u,{name:"Plus",size:14})]),s("label",k,[d(u,{name:"Search",size:16}),y(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.search.text=t),type:"text",class:"grow",placeholder:"id, email, имя, фамилия"},null,512),[[v,a.search.text]])]),e[3]||(e[3]=s("button",{type:"submit",class:"btn"},"Поиск",-1))],32)]),a.loading?(n(),i("div",_,e[5]||(e[5]=[s("span",{class:"loading loading-spinner text-primary"},null,-1)]))):o("",!0),!a.loading&&r.specialistsMap.length===0?(n(),i("div",M,[d(m,{class:"min-size-4 text-primary"}),e[6]||(e[6]=s("span",null,"На данный момент нет пользователей. Вернитесь позже",-1))])):o("",!0),!a.loading&&r.specialistsMap.length>0?(n(),i("div",C,[s("table",$,[e[7]||(e[7]=s("thead",null,[s("tr",null,[s("th",{class:"font-medium"},"Email"),s("th",{class:"font-medium"},"Имя и фамилия"),s("th",{class:"font-medium"},"Возраст"),s("th",{class:"font-medium"},"Опыт"),s("th",{class:"font-medium"},"Цена"),s("th",{class:"font-medium"},"Сессии было"),s("th",{class:"font-medium"},"Действие")])],-1)),s("tbody",null,[(n(!0),i(p,null,x(r.specialistsMap,(t,h)=>(n(),i("tr",{key:h},[s("td",null,l(t.email),1),s("td",null,[s("span",B,l(t.first_name)+" "+l(t.last_name),1)]),s("td",null,l(t.age),1),s("td",null,l(t.experience_years),1),s("td",null,l(a.$currency(t.price)),1),s("td",null,l(t.sessions),1),s("td",null,[s("button",{class:"btn btn-sm w-full",onClick:D=>a.$router.push(`/admin/dashboard/specialists/${t.id}`)}," Открыть ",8,I)])]))),128))])])])):o("",!0)],64)}const j=b(S,[["render",V]]);export{j as default};
