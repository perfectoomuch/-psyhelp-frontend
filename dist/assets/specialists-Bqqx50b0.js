import{S as h}from"./specialist.service-Q-smWPwj.js";import{_ as m,c as l,o as i,e as s,g as d,J as f,b as u,r as b,j as g,l as y,F as c,i as v,t as n}from"./index-BeL3-aS9.js";const x={data:()=>({specialistService:new h,loading:!0,specialists:[],search:{text:"",used:!1,result:[]}}),async created(){await this.getAll()},computed:{specialistsMap(){return this.search.used?this.search.result:this.specialists}},methods:{async getAll(){this.specialists=await this.specialistService.getAll(),this.loading=!1},async onSearch(){if(this.search.text.trim().length===0){this.search.result=[],this.search.used=!1;return}this.search.result=await this.specialistService.getBySearch(this.search.text),this.search.used=!0}}},S={class:"flex"},w={class:"input border"},k={key:0,class:"flex justify-center"},M={key:1,role:"alert",class:"alert"},_={key:2,class:"overflow-x-auto"},C={class:"table table-sm"},$={class:"whitespace-nowrap text-primary cursor-pointer"},B=["onClick"];function V(a,e,z,A,I,r){const o=b("Icon");return i(),l(c,null,[s("div",S,[e[4]||(e[4]=s("div",{class:"flex items-center gap-2 mb-10"},[s("h1",{class:"text-2xl font-semibold"},"Специалисты")],-1)),s("form",{onSubmit:e[2]||(e[2]=f((...t)=>r.onSearch&&r.onSearch(...t),["prevent"])),class:"flex gap-2 ml-auto"},[s("button",{type:"button",class:"btn btn-square mr-2",onClick:e[0]||(e[0]=t=>a.$router.push("/admin/dashboard/specialists/add"))},[u(o,{name:"Plus",size:14})]),s("label",w,[u(o,{name:"Search",size:16}),g(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.search.text=t),type:"text",class:"grow",placeholder:"id, email, имя, фамилия"},null,512),[[y,a.search.text]])]),e[3]||(e[3]=s("button",{type:"submit",class:"btn"},"Поиск",-1))],32)]),a.loading?(i(),l("div",k,e[5]||(e[5]=[s("span",{class:"loading loading-spinner text-primary"},null,-1)]))):d("",!0),!a.loading&&r.specialistsMap.length===0?(i(),l("div",M,[u(o,{name:"Info",class:"min-size-4 text-primary"}),e[6]||(e[6]=s("span",null,"На данный момент нет специалистов. Добавьте специалиста",-1))])):d("",!0),!a.loading&&r.specialistsMap.length>0?(i(),l("div",_,[s("table",C,[e[7]||(e[7]=s("thead",null,[s("tr",null,[s("th",{class:"font-medium"},"Имя"),s("th",{class:"font-medium"},"Возраст"),s("th",{class:"font-medium"},"Опыт"),s("th",{class:"font-medium"},"Цена"),s("th",{class:"font-medium"},"Сессии было"),s("th",{class:"font-medium"},"Действие")])],-1)),s("tbody",null,[(i(!0),l(c,null,v(r.specialistsMap,(t,p)=>(i(),l("tr",{key:p},[s("td",null,[s("span",$,n(t.first_name)+" "+n(t.last_name),1)]),s("td",null,n(t.age),1),s("td",null,n(t.experience_years),1),s("td",null,n(a.$currency(t.price)),1),s("td",null,n(t.sessions),1),s("td",null,[s("button",{class:"btn btn-sm w-full",onClick:N=>a.$router.push(`/admin/dashboard/specialists/${t.id}`)}," Открыть ",8,B)])]))),128))])])])):d("",!0)],64)}const F=m(x,[["render",V]]);export{F as default};
